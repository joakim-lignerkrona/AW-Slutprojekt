@using System.Threading.Tasks
@using TriviaRoyale.Shared;
@inject PlayerService service;


<h3 class="mt-4 mb-2">@service.Player.Name Ready!</h3>
<h4>Waiting for host to start</h4>

    <h5 class="mt-4 mb-2">Players in the lobby:</h5>
<div class="d-flex flex-column bg-dark p-3 rounded-4">

    @foreach(var player in service.Players)
    {
        <PlayerComponent Player="player" />
    }
    
</div>
<button class="btn btn-primary" @onclick="GoToGame">Simulate host is ready button</button>

@code {
    private async Task GoToGame()
    {
    await service.hubConnection.SendAsync("StartGame");
        
    }
}