@using TriviaRoyale.Shared;
@using TriviaRoyale.Client.Models;
@using System.Text.Json;
@using TriviaRoyale.Shared.Questions
@inject NavigationManager navigation
@inject HostService service

<div class="container">
    <div class="row mb-5">
        <div class="d-flex justify-content-between">
            @if(question !=null)
            {
            <div class="col-6">
                <h3>Question</h3>
                <p>
                    @question?.questionText
                </p>
                <p>
                    @question?.answer

                </p>
                </div>
            }
            
            <div id="player-list" class="border-2 col-6">
                @if (service.PlayerAnswering == null)
                {
                    <h2>Wait for a Player to anser</h2>
                }
                else
                {
                    <TriviaRoyale.Client.Shared.Components.PlayerComponent Player="service.PlayerAnswering" />
                }
            </div>
        </div>
    </div>
    <div class="row">
        <div class="d-flex justify-content-around">
            @if(service.GameState == GameState.PlayerToAnswer)
            {
                <button class="btn btn-danger p-5" @onclick="HandleWrongAnswer">
                    <span class="h3">
                        Wrong
                    </span>
                </button>
                <button class="btn btn-success p-5" @onclick="HandleCorrectAnswer">
                    <span class="h3">
                        Right
                    </span>
                </button>
            }
            else
            {
            <button class="btn btn-warning p-5" @onclick="GetQuestion">
                <span class="h3">
                    New question
                </span>
            </button>
            <button class="btn btn-danger p-5" @onclick="EndGame">
                <span class="h3">
                    End Game
                </span>
            </button>
                
            }
        </div>
    </div> 
</div>
@code {
    


}
